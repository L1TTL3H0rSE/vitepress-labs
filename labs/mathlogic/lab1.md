---
title: Лабораторная работа №1
description: Решение задачи 1356 (Sort Integers by The Number of 1 Bits) на LeetCode.
head:
  - - meta
    - name: keywords
      content: leetcode, typescript, python, сортировка, биты, vue
---

# Лабораторная работа №1: Знакомство с LeetCode

## 1. Информация о задаче

- **Ссылка на задачу:** [1356](https://leetcode.com/problems/sort-integers-by-the-number-of-1-bits/description/)
- **Название задачи:** Sort Integers by The Number of 1 Bits
- **Сложность:** Easy
- **Теги:** Array, Bit Manipulation, Sorting

## 2. Описание решения

Моей целью было написать алгоритм сортировки массива по количеству единичных битов полностью самостоятельно, не подглядывая в готовые решения.

Так как я увереннее чувствую себя в TypeScript, сначала алгоритм был реализован на нём. Логика подсчета битов основана на цикле `while`, в котором число делится на 2, а остаток от деления прибавляется к счетчику единиц. Затем элементы массива мапятся с их количеством битов, сортируются и возвращаются в исходном виде.

После того как код на TS заработал, я перевел его на Python, найдя аналоги функций `map` и `sort` (используя встроенные функции `sorted`, `append` и лямбда-выражения для кастомной сортировки словарей).

## 3. Исходный код

Оба решения успешно прошли все тесты (вердикт **Accepted**).

::: details Посмотреть исходный код на TypeScript
<<< @/labs/mathlogic/lab1/lab1.ts
:::

![Успешно](/img/lab1/typescript.png)

::: details Посмотреть исходный код на Python
<<< @/labs/mathlogic/lab1/lab1.py
:::

![Успешно](/img/lab1/python.png)

## 4. Трудности и их преодоление

Основная сложность заключалась в невнимательности при написании алгоритма подсчета битов. При работе с циклом `while` я несколько раз некорректно прописывал математические операции изменения переменной `local`. Из-за этого условие выхода из цикла никогда не достигалось, программа уходила в бесконечный цикл (infinite loop) и крашилась.

Проблема была решена после пошаговой отладки при помощи console.log и исправления операций вычитания и деления внутри цикла. Также потребовалось время на гугление синтаксиса Python для перевода рабочего алгоритма с TypeScript.

## 5. Интерактивный тест

Ниже вы можете ввести свой массив чисел через запятую и протестировать работу моего алгоритма прямо в браузере (под капотом работает перекомпилированная TS-версия кода).

<script setup lang="ts">
import InteractiveRunner from '../../components/InteractiveRunner.vue'
import { sortByBits } from './lab1/lab1'

function mapper(input: string) {
    const arr = input
      .split(',')
      .map(s => s.trim())
      .filter(s => s != '')
      .map(Number)

    if (arr.some(isNaN)) {
      throw new Error("Ошибка: Введите только числа, разделенные запятыми.")
    }

    return arr;
}
</script>

<InteractiveRunner
  :solution="sortByBits"
  :mapper
/>
